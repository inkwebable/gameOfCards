!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GameOfCards=t():e.GameOfCards=t()}(self,(function(){return function(){"use strict";var e={975:function(e,t,n){var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,"",""]),t.Z=i},645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},81:function(e){e.exports=function(e){return e[1]}},379:function(e){var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,f="".concat(u," ").concat(l);o[u]=l+1;var d=n(f),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var v=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:f,updater:v,references:1})}i.push(f)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:function(e){var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{Actions:function(){return e},Game:function(){return Te},animateCardFromOneAreaToAnother:function(){return w},cardShuffle:function(){return C},dealCards:function(){return O},swapDomElements:function(){return k},wait:function(){return g}});var e={};n.r(e),n.d(e,{animateCardFromOneAreaToAnother:function(){return w},cardShuffle:function(){return C},dealCards:function(){return O},swapDomElements:function(){return k},wait:function(){return g}});var t=n(379),a=n.n(t),o=n(795),i=n.n(o),s=n(569),c=n.n(s),u=n(565),l=n.n(u),f=n(216),d=n.n(f),h=n(589),v=n.n(h),p=n(975),y={};function m(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,s,"next",e)}function s(e){m(o,r,a,i,s,"throw",e)}i(void 0)}))}}y.styleTagTransform=v(),y.setAttributes=l(),y.insert=c().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),a()(p.Z,y),p.Z&&p.Z.locals&&p.Z.locals;var g=function(e){return new Promise((function(t){return setTimeout(t,e)}))},C=function(){var e=b(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,s,c,u,l,f,d,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:[],n=h.length>1&&void 0!==h[1]?h[1]:function(){},r=h.length>2&&void 0!==h[2]?h[2]:{},a={index:0,delay:500},o=Object.assign({},a,r),i=o.index,s=o.delay,e.next=7,g(s);case 7:if(!(i<=t.length-2)){e.next=21;break}return c=t[i],u=t[i+1],l=c.dom,f=u.dom,l.className="goc-card-container shuffle-left",f&&(f.className="goc-card-container shuffle-right"),e.next=16,g(100);case 16:l.className="goc-card-container shuffle-right",f&&(f.className="goc-card-container shuffle-left",k(l,f),d=c,t[i]=u,t[i+1]=d),i+=2,e.next=7;break;case 21:return e.next=23,g(1e3);case 23:return n(),e.abrupt("return",Promise.resolve({data:i}));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e,t){var n=t.parentNode,r=t.nextSibling;r===e?n.insertBefore(e,t):(e.parentNode.insertBefore(t,e),r?n.insertBefore(e,r):n.appendChild(e))},w=function(){var e=b(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,s,c,u,l,f,d,h,v,p,y,m,b,C,k,w,O,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={speed:300,inlineFlex:!1,moveCardObjects:!1},i=Object.assign({},o,a),s=i.speed,c=i.inlineFlex,u=i.moveCardObjects,l=window.getComputedStyle(r.dom),f=r.dom.offsetWidth+(parseFloat(l.marginLeft)+parseFloat(l.marginRight)),d=r.dom.offsetHeight+(parseFloat(l.marginTop)+parseFloat(l.marginBottom)),h=n.cards.length*f,n.cards.length,n.area.stackHorizontal,v=n.area.stackVertical,p=n.area.flexArea,y=n.area.maxCardsInHorizontal,m=n.area.dealCenterLine,b=0,p&&!v&&(C=n.area.dom.offsetWidth<f?f:n.area.dom.offsetWidth,y=Math.floor(parseInt(C,10)/parseInt(f,10))),v?(k=n.area.position.left-t.area.position.left,w=n.area.position.top-t.area.position.top,y>0?(b=parseInt(n.cards.length/y,10),h=f*(n.cards.length%y),k+=h,w+=b*d-(b>0?100*b:0)):w+=0,m&&(k=n.area.dom.offsetWidth/2-t.area.position.left),r.dom.style.position="absolute",r.dom.style.transform="translate(".concat(k,"px,").concat(w,"px)"),r.dom.style.transition="transform ".concat(s,"ms")):(b=parseInt(n.cards.length/y,10),h=f*(n.cards.length%y),p&&n.cards.length===y&&0===h&&(b=0,h=f*n.cards.length),O=n.area.position.left-t.area.position.left+h,x=n.area.position.top-t.area.position.top+b*d,m&&(O=0),c&&p&&(m&&(n.area.dom.style.justifyContent="center"),n.area.dom.style.display="flex",n.area.dom.style.flexWrap="wrap"),r.dom.style.position=p?"relative":"absolute",r.dom.style.transform="translate(".concat(O,"px,").concat(x,"px)"),r.dom.style.transition="transform ".concat(s,"ms")),e.next=17,g(s);case 17:if(r.dom.className="goc-card-container",n.area.dom.appendChild(r.dom),v?(r.dom.style.position="absolute",r.dom.style.transform=y>0?"translate(".concat(h,"px,").concat(b*d-(b>0?100*b:0),"px )"):"translate(0px,0px )",r.dom.style.transition="transform ".concat(s,"ms")):(r.dom.style.position=p?"relative":"absolute",r.dom.style.transform=p?"translate(0,0)":"translate(".concat(h,"px,").concat(b*d,"px )"),r.dom.style.transition="transform ".concat(s,"ms")),!u){e.next=25;break}return e.next=23,t.cards.removeCardFromHand(r);case 23:return e.next=25,n.cards.addCardToHand(r);case 25:return e.abrupt("return",Promise.resolve({data:"done"}));case 26:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),O=function(){var e=b(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,s,c,u,l,f,d,h,v,p,y,m,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>2&&void 0!==b[2]?b[2]:{},a={totalCardsToDeal:0,perPlayer:0,speed:300,sequential:!1,delay:1e3,inlineFlex:!1,moveCardObjects:!1},o=Object.assign({},a,r),i=o.totalCardsToDeal,s=o.perPlayer,c=o.speed,u=o.sequential,o.delay,l=o.inlineFlex,f=o.moveCardObjects,!(!t.hand.cards.length>0)){e.next=5;break}return e.abrupt("return",Promise.reject({error:"no cards"}));case 5:d=n.length,h=0,v=0,p=!0,y=Array(d).fill(0),0!==s?i=s>0?s*d:i:s=i/d;case 11:if(!(h<i&&0!==t.hand.cards.length&&p)){e.next=24;break}return m=t.hand.getLastCard(),e.next=15,w(t.hand,n[v].hand,m,{speed:c,moveCardObjects:f,inlineFlex:l});case 15:return e.next=17,t.hand.removeCardFromHand(m);case 17:return e.next=19,n[v].hand.addCardToHand(m);case 19:y[v]+=1,u?n[v]&&(v=v>=d-1?0:v+1):y[v]===s&&(v=v>=d-1?0:v+1),h++,e.next=11;break;case 24:return e.abrupt("return",Promise.resolve({data:"done"}));case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Object.assign({},{name:"",value:0,suit:"",image:"",imageDefault:"front",cardColor:"",visible:!1,allowFlip:!0,clickable:!0,movable:!0,moving:!1,droppable:!1,inArea:null,transitioning:!1,faceUp:!1,faceDown:!0,currentEvent:null,events:{click:function(){},transitionend:function(){}},onClick:function(e){},onCardFaceUp:function(){},onCardFaceDown:function(){}},t);Object.defineProperties(this,{_id:{value:n.id||void 0,writable:!1}}),this.name=n.name||"",this.value=n.value||0,this.suit=n.suit||"",this.image=n.image||"",this.imageDefault=n.imageDefault,this.cardColor=n.cardColor||"",this.visible=n.visible||!1,this.allowFlip=n.allowFlip||!0,this.clickable=n.clickable||!0,this.movable=n.movable||!0,this.moving=n.moving||!1,this.droppable=n.droppable||!1,this.inArea=n.inArea||null,this.transitioning=n.transitioning||!1,this.faceUp=n.faceUp||!1,this.faceDown=n.faceDown||!0,this.currentEvent=n.currentEvent||null,this.events=n.events||{},this.onClick=n.onClick||function(e){},this.onCardFaceUp=n.onCardFaceUp||function(e){},this.onCardFaceDown=n.onCardFaceDown||function(e){},this.hand={}}var t,n;return t=e,n=[{key:"setDom",value:function(e){Object.defineProperty(this,"dom",{value:e,writable:!1})}},{key:"setDOMClassContainer",value:function(e){this.dom.className=e}},{key:"addDOMClassContainer",value:function(e){this.dom.className+=" ".concat(e)}},{key:"setDOMClassCard",value:function(e){this.dom.children[0].className=e}},{key:"addDOMClassCard",value:function(e){this.dom.children[0].className+=" ".concat(e)}},{key:"setClickEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.onClick=e.bind(this,t),n&&this.activateClickEventListener(),this.onClick}},{key:"setTransitionEvent",value:function(e,t){var n=e.onCardFaceUp,r=e.onCardFaceDown,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&(this.onCardFaceUp=n.bind(this,t)),r&&(this.onCardFaceDown=r.bind(this,t)),a&&this.activateTransitionedEventListener()}},{key:"activateClickEventListener",value:function(){this.clearClickListener(),this.events.click=this.onClick,this.dom.addEventListener("click",this.events.click)}},{key:"activateTransitionedEventListener",value:function(){this.clearTransitionedListener(),this.events.transitionend=this._afterTransition.bind(this),this.dom.addEventListener("transitionend",this.events.transitionend)}},{key:"activateAllEventListeners",value:function(){this.removeAllEventListeners(),this.activateClickEventListener(),this.activateTransitionedEventListener()}},{key:"removeAllEventListeners",value:function(){this.clearClickListener(),this.clearTransitionedListener()}},{key:"removeAllEvents",value:function(){var e=[];for(var t in this.events)this.clearEvent(t)?(e.push("".concat(t," removed")),this.events[t]=function(){}):console.error("".concat(t,"event not removed from card ").concat(this._id));return e}},{key:"clearEvent",value:function(e){return!!{}.hasOwnProperty.call(this.events,e)&&(this.dom.removeEventListener(e,this.events[e]),!0)}},{key:"clearClickListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.events.click;this.dom.removeEventListener("click",e)}},{key:"clearTransitionedListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.events.transitionend;this.dom.removeEventListener("transitionend",e)}},{key:"flipCardFaceUp",value:function(){return this.currentEvent="flipCardFaceUp",!this.visible&&(this.dom.querySelector(".goc-front img").src=this.image,this.addDOMClassCard(" flipped"),this.transitioning=!0,!0)}},{key:"flipCardFaceDown",value:function(){return this.currentEvent="flipCardFaceDown",!!this.visible&&(this.setDOMClassCard("goc-card"),this.transitioning=!0,!0)}},{key:"_afterTransition",value:function(e){this.transitioning=!1,"flipCardFaceUp"===this.currentEvent&&(this.visible=!0,this.onCardFaceUp(e)),"flipCardFaceDown"===this.currentEvent&&(this.visible=!1,this.onCardFaceDown(e),this.clearFrontFaceImg())}},{key:"clearFrontFaceImg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.imageDefault;this.dom.querySelector(".goc-front img").src="".concat(e)}},{key:"isTransitioning",value:function(){return!0===this.transitioning}}],n&&x(t.prototype,n),e}(),j=S;function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard playing cards",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"js-deck",a=arguments.length>3?arguments[3]:void 0;D(this,e);var o={numberOfEachCard:1,cardSuits:{hearts:"red",clubs:"black",diamonds:"red",spades:"black"},cardValues:{A:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13},imageNames:[],imagePath:"images/game-of-cards/default-cards",backOfCardSrc:"back.png",frontOfCardSrc:"front.png",cardSectionClass:"goc-card-container",customCardContainerClass:"",imageExt:"jpg",useSuits:!0,addValues:!0,cheat:!1,cardValuesArePaths:!1,cardValuesAreBase:!1,backOfCardBaseSrc:null},i=Object.assign({},o,a);Object.defineProperties(this,{_id:{value:t,writable:!1}}),Object.defineProperties(this,{name:{value:n,writable:!1}}),Object.defineProperties(this,{elementId:{value:r,writable:!1}}),this._ids=i._ids||[],this._DOMCards=i._DOMCards||[],this._DOMDeck=i._DOMDeck||[],this.numberOfEachCard=i.numberOfEachCard||1,this.cardSuits=i.cardSuits,this.imageNames=i.imageNames,this.cardValues=i.cardValues,this.imagePath=i.imagePath,this.cardSectionClass=i.cardSectionClass,this.backOfCardSrc=i.backOfCardSrc,this.frontOfCardSrc=i.frontOfCardSrc,this.imageExt=i.imageExt,this.cards=i.cards||[],this.customCardContainerClass=i.customCardContainerClass,this.useSuits=i.useSuits,this.addValues=i.addValues,this.areas=i.areas,this.cheat=i.cheat,this.cardValuesArePaths=i.cardValuesArePaths,this.cardValuesAreBase=i.cardValuesAreBase,this.backOfCardBaseSrc=i.backOfCardBaseSrc,this.createDeckObj()}var t,n;return t=e,n=[{key:"newNumber",value:function(e){var t="_".concat(Math.floor(1e7*Math.random()));return-1===e.indexOf(t)?(e.push(t),t):this.newNumber(e)}},{key:"createDeckObj",value:function(){for(var e in this.cardSuits)for(var t in this.cardValues)for(var n=0;n<this.numberOfEachCard;){var r=this.newNumber(this._ids),a="".concat(t).concat(e);a=this.cardValuesArePaths||this.cardValuesAreBase?t:"".concat(t).concat(e);var o=new j({name:t,value:this.addValues?this.cardValues[t]:0,suit:this.useSuits?e:"",image:this.cardValuesAreBase?a:"".concat(this.imagePath,"/").concat(a,".").concat(this.imageExt),imageDefault:"".concat(this.imagePath,"/").concat(this.frontOfCardSrc),cardColor:this.cardSuits[e],id:r.toString()});this.cards.push(o),n++}}},{key:"makeDomDeck",value:function(){var e=this,t=this.backOfCardBaseSrc?this.backOfCardBaseSrc:"".concat(this.imagePath,"/").concat(this.backOfCardSrc);this._DOMCards=this.cards.map((function(n){return'<section class="'.concat(e.cardSectionClass," ").concat(e.customCardContainerClass,'" style="transform: translate(0px,0px);">\n                <div class="goc-card" id="').concat(n._id,'">\n                <figure class="goc-back"><img src="').concat(t,'" alt="back of card"></figure>\n                <figure class="goc-front"><img src="').concat(e.imagePath,"/").concat(e.frontOfCardSrc,'" alt="front of card"></figure>\n                ').concat(e.cheat?'<p class="goc-cheat">'.concat(n.name," ").concat(n.suit,"</p>"):"","\n                </div>\n                </section>")}))}},{key:"addDeckToDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elementId,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._DOMCards;document.getElementById(e).innerHTML=t.join("")}},{key:"assignCardDomToCardObj",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cards,r=[],a=E(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;e=document.getElementById(o._id),r.push(e),o.setDom(e.parentNode)}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"shuffleCardsObj",value:function(){for(var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cards,r=n.length;0!==r;)t=Math.floor(Math.random()*r),e=n[r-=1],n[r]=n[t],n[t]=e;return n}},{key:"findCardById",value:function(e){return this.cards.find((function(t){return t._id===e}))}},{key:"handleMyErrors",value:function(e){console.error("error",e)}}],n&&T(t.prototype,n),e}(),R=A;function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function I(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=B(t);if(n){var a=B(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return I(this,e)});function a(e){var t=e.id,n=e.name,o=e.elementId,i=e.options;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,t,n,o,i)}return a}(R),L=M;function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function H(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(a){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function i(e){var t=e.id,n=e.name,r=e.elementId,a=e.options;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.cardSuits={},a.cardValues=a.cardValues?a.cardValues:{},a.useSuits=!1,o.call(this,t,n,r,a)}return t=i,(n=[{key:"createDeckObj",value:function(){var e=this;if(this.imageNames.length>0)this.imageNames.forEach((function(t){for(var n=0;n<e.numberOfEachCard;){var r=e.newNumber(e._ids),a=new j({name:t,value:e.addValues?e.cardValues[t]:0,suit:"",image:"".concat(e.imagePath,"/").concat(t,".").concat(e.imageExt),imageDefault:"".concat(e.imagePath,"/").concat(e.frontOfCardSrc),cardColor:e.cardSuits.suit,id:r.toString()});e.cards.push(a),n++}}));else if(Object.keys(this.cardValues).length>0)for(var t in this.cardValues)for(var n=0;n<this.numberOfEachCard;){var r=this.newNumber(this._ids),a=new j({name:t,value:this.addValues?this.cardValues[t]:0,suit:"",image:"".concat(this.imagePath,"/").concat(t,".").concat(this.imageExt),imageDefault:"".concat(this.imagePath,"/").concat(this.frontOfCardSrc),cardColor:this.cardSuits.suit,id:r.toString()});this.cards.push(a),n++}}}])&&N(t.prototype,n),i}(R),W=z;function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deckClass=L}var t,n;return t=e,(n=[{key:"createDeck",value:function(e,t){switch(e){case"default":this.deckClass=L;break;case"matching":this.deckClass=W}return new this.deckClass(t)}}])&&Z(t.prototype,n),e}();function $(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,s,"next",e)}function s(e){$(o,r,a,i,s,"throw",e)}i(void 0)}))}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=Object.assign({},{stackVertical:!1,maxCardsInHorizontal:0,flexArea:!0,dealCenterLine:!1},a);Object.defineProperties(this,{_id:{value:t,writable:!1},elementId:{value:n,writable:!1}}),this.name=r,this.placeHolders=o.placeHolders||{},this.position={top:0,right:0,bottom:0,left:0},this.siteElementOffsets={top:72,right:0,bottom:0,left:0},this.cards=[],this.rules={cardsFaceDown:!0,cardsFaceUp:!1,canReceiveCards:!0,canRemoveCards:!0,canMoveCards:!1,canTurnCards:!0,playerCanSeeCards:!0,othersCanSeeCards:!0,maxCardsAllowed:void 0},this.handleCardReceived=function(e){},this.handleCardRemoved=function(e){console.log("dom removed from area",e)},this.events={},this.stackVertical=o.stackVertical,this.maxCardsInHorizontal=o.maxCardsInHorizontal||0,this.flexArea=o.flexArea,this.dealCenterLine=o.dealCenterLine,this.dom=void 0,this.getAreaPosition()}var t,n,r,a;return t=e,n=[{key:"getAreaPosition",value:function(){var e=document.getElementById(this.elementId);this.dom=e;var t=e.getBoundingClientRect();this.position.top=t.top-this.siteElementOffsets.top,this.position.right=t.right-this.siteElementOffsets.right,this.position.bottom=t.bottom-this.siteElementOffsets.bottom,this.position.left=t.left-this.siteElementOffsets.left}},{key:"setObserver",value:function(){var e=this,t=this.dom,n=new MutationObserver((function(t,n){var r,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;"childList"===o.type?(o.addedNodes.length>0&&o.addedNodes.forEach(function(){var t=J(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onCardReceived(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.removedNodes.length>0&&o.removedNodes.forEach(function(){var t=J(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onCardRemoved(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):"attributes"===o.type&&console.log("The "+o.attributeName+" attribute was modified.")}}catch(e){a.e(e)}finally{a.f()}}));return n.observe(t,{attributes:!1,childList:!0,subtree:!0}),this}},{key:"onCardReceived",value:(a=J(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleCardReceived(t);case 2:return e.abrupt("return",Promise.resolve({someVal:"onCardReceived done"}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"onCardRemoved",value:(r=J(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleCardRemoved(t);case 2:return e.abrupt("return",Promise.resolve({someVal:"onCardRemoved done"}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],n&&Q(t.prototype,n),e}(),Y=X;function ee(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ne(o,r,a,i,s,"next",e)}function s(e){ne(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r={data:{test:"test"},rules:{test:"",cardsCanBeAdded:!0,cardsCanBeClicked:!0,cardsCanBeRemoved:!0,cardsCanBeSelected:!0,allowFlip:!0}},a=Object.assign({},r,n),o=a.rules,i=a.data;Object.defineProperties(this,{_id:{value:t,writable:!1}});var s=Object.assign({},r.rules,o),c=Object.assign({},r.data,i);this.cards=[],this.areas=[],this.area={},this.rules=s,this.data=c,this.handleCardAdded=function(e,t){},this.handleCardRemoved=function(e,t){},this.cards=a.cards||[]}var t,n,r,a,o,i;return t=e,n=[{key:"createArea",value:function(e,t,n){var r=new Y("".concat(this.player._id,"-").concat(this._id,"-area-").concat(this.areas.length),e,t,n);return Object.defineProperty(this.area,"hand",{value:this,writable:!1}),this.addAreaToAreas(r),this.area=r,this.area}},{key:"addAreaToAreas",value:function(e){this.areas.push(e)}},{key:"addCardsToHand",value:function(e){var t=e.filter((function(e){return e instanceof j}));this.cards=t}},{key:"addCardToHand",value:(i=re(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cards.push(t),e.next=3,this.onCardAdded(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"removeCardFromHand",value:(o=re(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cards=this.cards.filter((function(e){return e._id!==t._id})),e.next=3,this.onCardRemoved(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"onCardAdded",value:(a=re(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hand=this,e.next=3,this.handleCardAdded(t,this);case 3:return e.abrupt("return",Promise.resolve({someVal:"Hand.onCardReceived done"}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"onCardRemoved",value:(r=re(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hand=null,e.next=3,this.handleCardRemoved(t,this);case 3:return e.abrupt("return",Promise.resolve({someVal:"Hand.onCardRemoved done"}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"setUpCardEvents",value:function(){var e,t=ee(this.cards);try{for(t.s();!(e=t.n()).done;)e.value.activateAllEventListeners()}catch(e){t.e(e)}finally{t.f()}}},{key:"setCardClickFn",value:function(e){if(this.cards.length>0){var t,n=ee(this.cards);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.onClick=e.bind(this,{card:r}),r.activateClickEventListener()}}catch(e){n.e(e)}finally{n.f()}}}},{key:"setTransitionEvent",value:function(e){var t=e.onCardFaceUp,n=e.onCardFaceDown,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.cards.length>0){var a,o=ee(this.cards);try{for(o.s();!(a=o.n()).done;){var i=a.value;i.setTransitionEvent({onCardFaceUp:t.bind(this,{card:i}),onCardFaceDown:n.bind(this,{card:i})},r)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"setAfterCardFaceUpFn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(this.cards.length>0){var r,a=ee(this.cards);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.setTransitionEvent({onCardFaceUp:e.bind(this,{card:o})},n,t)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"setAfterCardFaceDownFn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.cards.length>0){var n,r=ee(this.cards);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.setTransitionEvent({onCardFaceDown:e.bind(this,{card:a})},t)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"removeAllCardEvents",value:function(){var e,t=ee(this.cards);try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log("Hand.removeAllCardEvents & listeners",n);var r=n.removeAllEvents();console.log("removed",r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"allCardsTransitioned",value:function(){var e,t=ee(this.cards);try{for(t.s();!(e=t.n()).done;)if(e.value.transitioning)return!1}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"getLastCard",value:function(){if(this.cards.length>0)return this.cards[this.cards.length-1]}},{key:"findCardById",value:function(e){return this.cards.find((function(t){return t._id===e}))}}],n&&ae(t.prototype,n),e}(),ie=oe;function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ue=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"player",r=arguments.length>2?arguments[2]:void 0;se(this,e);var a={playing:!0,ready:!1,turn:!1},o=Object.assign({},a,r);Object.defineProperties(this,{_id:{value:t,writable:!1}}),this.name=n,this.hand=[],this.ready=o,this.turn=o}var t,n;return t=e,n=[{key:"createHand",value:function(e,t){return this.hand=new ie(e,t),Object.defineProperty(this.hand,"player",{value:this,writable:!1}),this.hand}}],n&&ce(t.prototype,n),e}(),le=ue;function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function he(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ve(t);if(n){var a=ve(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return he(this,e)});function a(e){var t=e.id,n=e.name,o=e.options;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r.call(this,t,n,o)}return a}(le),ye=pe;function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function be(e,t){return be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},be(e,t)}function ge(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ke(t);if(n){var a=ke(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return ge(this,e)});function a(e){var t,n=e.id,o=e.name,i=e.options;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=r.call(this,n,o,i),Object.defineProperty(Ce(t),"dealer",{value:i.dealer,writable:!1}),t}return a}(le),Oe=we;function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerClass=ye}var t,n;return t=e,(n=[{key:"createPlayer",value:function(e,t){return this.playerClass="ai"===e?Oe:ye,new this.playerClass(t)}}])&&xe(t.prototype,n),e}();function je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Object.assign({},{name:"GameOfCards",data:{}},t);this.name=n.name,this.data=n.data,this.decks=[],this.players=[],Object.defineProperties(this,{deckFactory:{value:new G,writable:!1},playerFactory:{value:new Se,writable:!1}})}var t,n;return t=e,n=[{key:"createStandardDeck",value:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.deckFactory.createDeck("default",{id:e,name:t,elementId:n,options:r});return console.log("createStandardDeck -deck",o),a&&this.addDeckToDecks(o),o}},{key:"createDeck",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default",o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=this.deckFactory.createDeck(a,{id:e,name:t,elementId:n,options:r});return o&&this.addDeckToDecks(i),i}},{key:"addDeckToDecks",value:function(e){return this.decks.push(e),this.decks}},{key:"createPlayer",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this.playerFactory.createPlayer("default",{id:e,name:t,options:n});return r&&this.addPlayerToPlayers(a),a}},{key:"createDealer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dealer",n=arguments.length>2?arguments[2]:void 0,r={dealer:!0,ready:!1,playing:!1},a=Object.assign({},r,n),o=this.playerFactory.createPlayer("ai",{id:e,name:t,options:a});return a.playing&&this.addPlayerToPlayers(o),this.dealer=o,o}},{key:"addPlayerToPlayers",value:function(e){this.players.push(e)}},{key:"findPlayerByName",value:function(e){if(this.players.length>0)return this.players.find((function(t){return t.name===e}))}},{key:"addDeckToDom",value:function(e){return(e?this.findDeckById(e):this.decks[0]).addDeckToDOM(),this}},{key:"assignCardDomToCardObj",value:function(e){return(e?this.findDeckById(e):this.decks[0]).assignCardDomToCardObj()}},{key:"shuffleDeckCards",value:function(e){return(e?this.findDeckById(e):this.decks[0]).shuffleCardsObj(),this}},{key:"makeDomMarkUp",value:function(e){return(e?this.findDeckById(e):this.decks[0]).makeDomDeck(),this}},{key:"findDeckById",value:function(e){return this.decks.find((function(t){return t._id===e}))}},{key:"findPlayerById",value:function(e){return this.players.find((function(t){return t._id===e}))}},{key:"findCardById",value:function(e){var t=null;if(this.decks.length>0){for(;null===t;){var n,r=je(this.decks);try{for(r.s();!(n=r.n()).done;)t=n.value.findCardById(e)}catch(e){r.e(e)}finally{r.f()}}return t}}}],n&&Pe(t.prototype,n),e}(),Te=De}(),r}()}));